var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function o(t){t.forEach(n)}function r(t){return"function"==typeof t}function c(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function s(t,n){t.appendChild(n)}function a(t,n,e){t.insertBefore(n,e||null)}function i(t){t.parentNode.removeChild(t)}function u(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function l(){return t="",document.createTextNode(t);var t}function f(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function d(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function h(t,n,e){t.classList[e?"add":"remove"](n)}let y;function $(t){y=t}function p(){const t=function(){if(!y)throw new Error("Function called outside component initialization");return y}();return(n,e)=>{const o=t.$$.callbacks[n];if(o){const r=function(t,n){const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}(n,e);o.slice().forEach(n=>{n.call(t,r)})}}}const g=[],m=[],x=[],w=[],v=Promise.resolve();let b=!1;function k(t){x.push(t)}function E(){const t=new Set;do{for(;g.length;){const t=g.shift();$(t),M(t.$$)}for(;m.length;)m.pop()();for(let n=0;n<x.length;n+=1){const e=x[n];t.has(e)||(e(),t.add(e))}x.length=0}while(g.length);for(;w.length;)w.pop()();b=!1}function M(t){if(null!==t.fragment){t.update(),o(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(k)}}const _=new Set;let C;function L(t,n){t&&t.i&&(_.delete(t),t.i(n))}function j(t,n,e,o){if(t&&t.o){if(_.has(t))return;_.add(t),C.c.push(()=>{_.delete(t),o&&(e&&t.d(1),o())}),t.o(n)}}function P(t,n){j(t,1,1,()=>{n.delete(t.key)})}function z(t){t&&t.c()}function D(t,e,c){const{fragment:s,on_mount:a,on_destroy:i,after_update:u}=t.$$;s&&s.m(e,c),k(()=>{const e=a.map(n).filter(r);i?i.push(...e):o(e),t.$$.on_mount=[]}),u.forEach(k)}function I(t,n){const e=t.$$;null!==e.fragment&&(o(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function K(t,n){-1===t.$$.dirty[0]&&(g.push(t),b||(b=!0,v.then(E)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function S(n,r,c,s,a,i,u=[-1]){const l=y;$(n);const f=r.props||{},d=n.$$={fragment:null,ctx:null,props:i,update:t,not_equal:a,bound:e(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:e(),dirty:u};let h=!1;d.ctx=c?c(n,f,(t,e,...o)=>{const r=o.length?o[0]:e;return d.ctx&&a(d.ctx[t],d.ctx[t]=r)&&(d.bound[t]&&d.bound[t](r),h&&K(n,t)),e}):[],d.update(),h=!0,o(d.before_update),d.fragment=!!s&&s(d.ctx),r.target&&(r.hydrate?d.fragment&&d.fragment.l(function(t){return Array.from(t.childNodes)}(r.target)):d.fragment&&d.fragment.c(),r.intro&&L(n.$$.fragment),D(n,r.target,r.anchor),E()),$(l)}class A{$destroy(){I(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}}function N(t){let n,e;function o(o){n=o.clientX,e=o.clientY,t.dispatchEvent(new CustomEvent("panstart",{detail:{x:n,y:e}})),window.addEventListener("mousemove",r),window.addEventListener("mouseup",c)}function r(o){const r=o.clientX-n,c=o.clientY-e;n=o.clientX,e=o.clientY,t.dispatchEvent(new CustomEvent("panmove",{detail:{x:n,y:e,dx:r,dy:c}}))}function c(o){n=o.clientX,e=o.clientY,t.dispatchEvent(new CustomEvent("panend",{detail:{x:n,y:e}})),window.removeEventListener("mousemove",r),window.removeEventListener("mouseup",c)}return t.addEventListener("mousedown",o),{destroy(){t.removeEventListener("mousedown",o)}}}function X(n){let e,c,l,y,$;return{c(){e=u("g"),c=u("circle"),l=u("circle"),d(c,"class","handle svelte-azxjfk"),d(c,"cx",n[1]),d(c,"cy",n[2]),d(c,"r","20"),d(l,"cx",n[1]),d(l,"cy",n[2]),d(l,"r","8"),d(l,"class","svelte-azxjfk"),d(e,"aria-label",n[0]),d(e,"tabindex","0"),d(e,"class","svelte-azxjfk"),h(e,"grabbing",n[3])},m(o,i){var u;a(o,e,i),s(e,c),s(e,l),$=[(u=y=N.call(null,e),u&&r(u.destroy)?u.destroy:t),f(e,"panmove",n[4]),f(e,"panend",n[5]),f(e,"keyup",n[6])]},p(t,[n]){2&n&&d(c,"cx",t[1]),4&n&&d(c,"cy",t[2]),2&n&&d(l,"cx",t[1]),4&n&&d(l,"cy",t[2]),1&n&&d(e,"aria-label",t[0]),8&n&&h(e,"grabbing",t[3])},i:t,o:t,d(t){t&&i(e),o($)}}}function Y(t,n,e){const o=p();let r,c,{coordinates:s}=n,{label:a}=n,i=!1;return t.$set=t=>{"coordinates"in t&&e(7,s=t.coordinates),"label"in t&&e(0,a=t.label)},t.$$.update=()=>{128&t.$$.dirty&&e(1,r=s.x),128&t.$$.dirty&&e(2,c=s.y),1&t.$$.dirty&&console.log(a)},[a,r,c,i,function(t){e(3,i=!0),e(1,r+=t.detail.dx),e(2,c+=t.detail.dy),o("change",{x:r,y:c})},function(){e(3,i=!1)},function(t){switch(console.log(t,t.keyCode),t.keyCode){case 37:e(1,r-=1*(t.shiftKey?10:1)),o("change",{x:r,y:c});break;case 39:e(1,r+=1*(t.shiftKey?10:1)),o("change",{x:r,y:c});break;case 40:e(2,c+=1*(t.shiftKey?10:1)),o("change",{x:r,y:c});break;case 38:e(2,c-=1*(t.shiftKey?10:1)),o("change",{x:r,y:c})}console.log("Keypress")},s]}class q extends A{constructor(t){super(),S(this,t,Y,X,c,{coordinates:7,label:0})}}function B(t,n){return O(H(t),H(n))}function O({x:t,y:n},{x:e,y:o}){return{x:t+e,y:n+o}}function F({x:t,y:n},{x:e,y:o}){return{x:t-e,y:n-o}}function H(t){const n=T(t);return{x:t.x/n,y:t.y/n}}function T({x:t,y:n}){return Math.sqrt(t*t+n*n)}function W(t,n){return{x:n*t.x,y:n*t.y}}function G(t,n){return t.x*n.y-n.x*t.y}function J(t,n){return t.x*n.x+t.y*n.y}function Q(t,n){return{x:t.x*Math.cos(n)-t.y*Math.sin(n),y:t.x*Math.sin(n)+t.y*Math.cos(n)}}function R(n){let e,o;return{c(){e=u("path"),d(e,"d",o=n[1](n[0])),d(e,"opacity",n[2]),d(e,"stroke-dasharray",n[3]),d(e,"stroke","white"),d(e,"fill","none"),d(e,"stroke-width","2")},m(t,n){a(t,e,n)},p(t,[n]){3&n&&o!==(o=t[1](t[0]))&&d(e,"d",o),4&n&&d(e,"opacity",t[2]),8&n&&d(e,"stroke-dasharray",t[3])},i:t,o:t,d(t){t&&i(e)}}}function U(t){if(t){const n=["M",`${t[0].x},${t[0].y}`,"L"];for(let e=1;e<t.length;e++)n.push(`${t[e].x},${t[e].y}`);return n.join(" ")}}function V(t){const n=[];for(let e=1;e<t.length-1;e++){const o=F(t[e-1],t[e]),r=F(t[e+1],t[e]),c=(T(o)+T(r))/3,s=W(B(o,r),c);n.push("M"),n.push(`${t[e].x},${t[e].y}`),n.push("l"),n.push(`${s.x},${s.y}`)}return n.join(" ")}function Z(t){const n=[];for(let e=1;e<t.length-1;e++){const o=F(t[e-1],t[e]),r=F(t[e+1],t[e]),c=F(t[e+1],t[e-1]),s=H(B(o,r)),a=G(c,s);let i;i=Q(s,a>0?Math.PI/2:a<0?-Math.PI/2:Math.PI/2);const u=W(i,.5*J(o,i)),l=W(i,.5*J(r,i));n.push("M"),n.push(`${t[e].x},${t[e].y}`),n.push("l"),n.push(`${u.x},${u.y}`),n.push("M"),n.push(`${t[e].x},${t[e].y}`),n.push("l"),n.push(`${l.x},${l.y}`)}return n.join(" ")}function tt(t){const n=[];n.push("M"),n.push(`${t[0].x},${t[0].y}`),n.push(`C${t[0].x},${t[0].y}`);for(let e=1;e<t.length-1;e++){const o=F(t[e-1],t[e]),r=F(t[e+1],t[e]),c=F(t[e+1],t[e-1]),s=H(B(o,r)),a=G(c,s);let i;i=Q(s,a>0?Math.PI/2:a<0?-Math.PI/2:Math.PI/2);const u=W(i,.5*J(o,i)),l=W(i,.5*J(r,i)),f=O(u,t[e]),d=O(l,t[e]);n.push(`${f.x},${f.y}`),n.push(`${t[e].x},${t[e].y}`),n.push("C"),n.push(`${d.x},${d.y}`)}return n.push(`${t[t.length-1].x},${t[t.length-1].y}`),n.push(`${t[t.length-1].x},${t[t.length-1].y}`),n.join(" ")}function nt(t,n,e){let{coordinates:o}=n,{d:r=U}=n,{opacity:c=.65}=n,{strokeDasharray:s=null}=n;return t.$set=t=>{"coordinates"in t&&e(0,o=t.coordinates),"d"in t&&e(1,r=t.d),"opacity"in t&&e(2,c=t.opacity),"strokeDasharray"in t&&e(3,s=t.strokeDasharray)},[o,r,c,s]}class et extends A{constructor(t){super(),S(this,t,nt,R,c,{coordinates:0,d:1,opacity:2,strokeDasharray:3})}}function ot(t,n,e){const o=t.slice();return o[5]=n[e],o[7]=e,o}function rt(t){let n,e,r,c=[],s=new Map;const l=new et({props:{coordinates:t[0],strokeDasharray:"8 4"}}),f=new et({props:{coordinates:t[0],d:V,strokeDasharray:"8 4 2 4"}}),h=new et({props:{coordinates:t[0],d:Z,strokeDasharray:"16 4 2 4"}}),y=new et({props:{coordinates:t[0],d:tt,opacity:"1"}});let $=t[0];const p=t=>t[7];for(let n=0;n<$.length;n+=1){let e=ot(t,$,n),o=p(e);s.set(o,c[n]=ct(o,e))}return{c(){n=u("svg"),z(l.$$.fragment),z(f.$$.fragment),z(h.$$.fragment),z(y.$$.fragment);for(let t=0;t<c.length;t+=1)c[t].c();d(n,"width",t[1]),d(n,"height",t[2]),d(n,"viewBox",e="0 0 "+t[1]+" "+t[2]),d(n,"class","svelte-tzzcc2")},m(t,e){a(t,n,e),D(l,n,null),D(f,n,null),D(h,n,null),D(y,n,null);for(let t=0;t<c.length;t+=1)c[t].m(n,null);r=!0},p(t,e){const r={};1&e&&(r.coordinates=t[0]),l.$set(r);const a={};1&e&&(a.coordinates=t[0]),f.$set(a);const i={};1&e&&(i.coordinates=t[0]),h.$set(i);const u={};1&e&&(u.coordinates=t[0]),y.$set(u);const d=t[0];C={r:0,c:[],p:C},c=function(t,n,e,o,r,c,s,a,i,u,l,f){let d=t.length,h=c.length,y=d;const $={};for(;y--;)$[t[y].key]=y;const p=[],g=new Map,m=new Map;for(y=h;y--;){const t=f(r,c,y),a=e(t);let i=s.get(a);i?o&&i.p(t,n):(i=u(a,t),i.c()),g.set(a,p[y]=i),a in $&&m.set(a,Math.abs(y-$[a]))}const x=new Set,w=new Set;function v(t){L(t,1),t.m(a,l),s.set(t.key,t),l=t.first,h--}for(;d&&h;){const n=p[h-1],e=t[d-1],o=n.key,r=e.key;n===e?(l=n.first,d--,h--):g.has(r)?!s.has(o)||x.has(o)?v(n):w.has(r)?d--:m.get(o)>m.get(r)?(w.add(o),v(n)):(x.add(r),d--):(i(e,s),d--)}for(;d--;){const n=t[d];g.has(n.key)||i(n,s)}for(;h;)v(p[h-1]);return p}(c,e,p,1,t,d,s,n,P,ct,null,ot),C.r||o(C.c),C=C.p},i(t){if(!r){L(l.$$.fragment,t),L(f.$$.fragment,t),L(h.$$.fragment,t),L(y.$$.fragment,t);for(let t=0;t<$.length;t+=1)L(c[t]);r=!0}},o(t){j(l.$$.fragment,t),j(f.$$.fragment,t),j(h.$$.fragment,t),j(y.$$.fragment,t);for(let t=0;t<c.length;t+=1)j(c[t]);r=!1},d(t){t&&i(n),I(l),I(f),I(h),I(y);for(let t=0;t<c.length;t+=1)c[t].d()}}}function ct(t,n){let e,o;const c=new q({props:{coordinates:n[5],label:`Point ${n[7]}`}});return c.$on("change",(function(){r(n[3](n[7]))&&n[3](n[7]).apply(this,arguments)})),{key:t,first:null,c(){e=l(),z(c.$$.fragment),this.first=e},m(t,n){a(t,e,n),D(c,t,n),o=!0},p(t,e){n=t;const o={};1&e&&(o.coordinates=n[5]),1&e&&(o.label=`Point ${n[7]}`),c.$set(o)},i(t){o||(L(c.$$.fragment,t),o=!0)},o(t){j(c.$$.fragment,t),o=!1},d(t){t&&i(e),I(c,t)}}}function st(t){let n,e,o=t[1]&&t[2]&&rt(t);return{c(){var t;t="main",n=document.createElement(t),o&&o.c(),d(n,"class","svelte-tzzcc2")},m(t,r){a(t,n,r),o&&o.m(n,null),e=!0},p(t,[n]){t[1]&&t[2]&&o.p(t,n)},i(t){e||(L(o),e=!0)},o(t){j(o),e=!1},d(t){t&&i(n),o&&o.d()}}}function at(t,n,e){let o=window.innerWidth,r=window.innerHeight,c=[];return e(0,c=[{x:.2*o,y:.2*r},{x:.6*o,y:.4*r},{x:.4*o,y:.6*r},{x:.8*o,y:.8*r},{x:.9*o,y:.8*r}]),[c,o,r,function(t){return function(n){e(0,c=function(t,n,e){const o=[...t];return o[n]=e,o}(c,t,n.detail))}}]}return new class extends A{constructor(t){super(),S(this,t,at,st,c,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
